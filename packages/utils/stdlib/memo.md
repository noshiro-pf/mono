# memo

-   TS v4.9.5 時点の lib を使用（`unchanged` ディレクトリ）
-   `node_modules/typescript/lib` 配下の `lib.*` ファイルをコピー
-   自動修正
    -   `/// <reference lib="XXX" />` を `/// <reference path="./lib.XXX.d.ts" />` に書き換え
        -   Find: `/// <reference lib="(.+)" />`
        -   Replace: `/// <reference path="lib.$1.d.ts" />`
    -   `eslint --fix` で `readonly` を追加
    -   `any[]` -> `never[]`
    -   `declare var` -> `declare const`
    -   `predicate` の返り値を `unknown` -> `boolean` に変更
    -   `predicate: \(.*unknown` と `predicate: \(\n` で検索
    -   `MapConstructor` の結果を `ReadonlyMap` から `Map` に
    -   `SetConstructor` の結果を `ReadonlySet` から `Set` に
    -   `Array`
        -   ` readonly [n: number]: T;` -> ` [n: number]: T;`
            -   ArrayLike も
        -   `Array.sort` の `compareFn` を必須引数に変更
    -   `Array.includes`, `Set.has` の型変更
        -   `utils.d.ts` の include
-   手動修正
    -   `readonly` 削除
        -   `Partial`
        -   `Array` method の return type を mutable に
            -   ` Array<` で検索
            -   ArrayConstructor
            -   `Array.from`
            -   `Array.of`
